{
  "query": "CREATE TABLE `emailSessions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`email` varchar(320) NOT NULL,\n\t`token` varchar(255) NOT NULL,\n\t`expiresAt` timestamp NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `emailSessions_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `emailSessions_token_unique` UNIQUE(`token`)\n);\nALTER TABLE `users` DROP INDEX `users_openId_unique`;\nALTER TABLE `categories` MODIFY COLUMN `active` int NOT NULL DEFAULT 1;\nALTER TABLE `extras` MODIFY COLUMN `type` enum('checkbox','radio') NOT NULL;\nALTER TABLE `extras` MODIFY COLUMN `active` int NOT NULL DEFAULT 1;\nALTER TABLE `products` MODIFY COLUMN `active` int NOT NULL DEFAULT 1;\nALTER TABLE `users` MODIFY COLUMN `email` varchar(320) NOT NULL;\nALTER TABLE `users` MODIFY COLUMN `role` enum('admin','user') NOT NULL DEFAULT 'user';\nALTER TABLE `users` ADD `restaurantId` int NOT NULL;\nALTER TABLE `users` ADD CONSTRAINT `users_email_unique` UNIQUE(`email`);\nCREATE INDEX `emailSessions_email_idx` ON `emailSessions` (`email`);\nCREATE INDEX `emailSessions_token_idx` ON `emailSessions` (`token`);\nCREATE INDEX `emailSessions_expiresAt_idx` ON `emailSessions` (`expiresAt`);\nCREATE INDEX `categories_restaurantId_idx` ON `categories` (`restaurantId`);\nCREATE INDEX `categories_active_idx` ON `categories` (`active`);\nCREATE INDEX `extras_restaurantId_idx` ON `extras` (`restaurantId`);\nCREATE INDEX `extras_categoryId_idx` ON `extras` (`categoryId`);\nCREATE INDEX `extras_active_idx` ON `extras` (`active`);\nCREATE INDEX `products_restaurantId_idx` ON `products` (`restaurantId`);\nCREATE INDEX `products_categoryId_idx` ON `products` (`categoryId`);\nCREATE INDEX `products_active_idx` ON `products` (`active`);\nCREATE INDEX `email_idx` ON `users` (`email`);\nCREATE INDEX `restaurantId_idx` ON `users` (`restaurantId`);\nALTER TABLE `users` DROP COLUMN `openId`;\nALTER TABLE `users` DROP COLUMN `loginMethod`;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 31jjHSQabzfCU1N.root --database 8wfvDnRbBBeJ9xvkfFpaft --execute CREATE TABLE `emailSessions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`email` varchar(320) NOT NULL,\n\t`token` varchar(255) NOT NULL,\n\t`expiresAt` timestamp NOT NULL,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `emailSessions_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `emailSessions_token_unique` UNIQUE(`token`)\n);\nALTER TABLE `users` DROP INDEX `users_openId_unique`;\nALTER TABLE `categories` MODIFY COLUMN `active` int NOT NULL DEFAULT 1;\nALTER TABLE `extras` MODIFY COLUMN `type` enum('checkbox','radio') NOT NULL;\nALTER TABLE `extras` MODIFY COLUMN `active` int NOT NULL DEFAULT 1;\nALTER TABLE `products` MODIFY COLUMN `active` int NOT NULL DEFAULT 1;\nALTER TABLE `users` MODIFY COLUMN `email` varchar(320) NOT NULL;\nALTER TABLE `users` MODIFY COLUMN `role` enum('admin','user') NOT NULL DEFAULT 'user';\nALTER TABLE `users` ADD `restaurantId` int NOT NULL;\nALTER TABLE `users` ADD CONSTRAINT `users_email_unique` UNIQUE(`email`);\nCREATE INDEX `emailSessions_email_idx` ON `emailSessions` (`email`);\nCREATE INDEX `emailSessions_token_idx` ON `emailSessions` (`token`);\nCREATE INDEX `emailSessions_expiresAt_idx` ON `emailSessions` (`expiresAt`);\nCREATE INDEX `categories_restaurantId_idx` ON `categories` (`restaurantId`);\nCREATE INDEX `categories_active_idx` ON `categories` (`active`);\nCREATE INDEX `extras_restaurantId_idx` ON `extras` (`restaurantId`);\nCREATE INDEX `extras_categoryId_idx` ON `extras` (`categoryId`);\nCREATE INDEX `extras_active_idx` ON `extras` (`active`);\nCREATE INDEX `products_restaurantId_idx` ON `products` (`restaurantId`);\nCREATE INDEX `products_categoryId_idx` ON `products` (`categoryId`);\nCREATE INDEX `products_active_idx` ON `products` (`active`);\nCREATE INDEX `email_idx` ON `users` (`email`);\nCREATE INDEX `restaurantId_idx` ON `users` (`restaurantId`);\nALTER TABLE `users` DROP COLUMN `openId`;\nALTER TABLE `users` DROP COLUMN `loginMethod`;",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 12891
}